#!/bin/sh

repo_dir=$(pwd)
echo "Updating $repo_dir"

build_dir=$(mktemp -d)
echo "Building in $build_dir"
cd "$build_dir"

# git clone --depth 1 https://github.com/ornicar/scalalib
# cd scalalib
# sbt -DpublishTo=$repo_dir publish
# cd ..

# git clone --depth 1 https://github.com/ornicar/Kamon --branch lila
# cd Kamon
# sbt -DpublishTo=$repo_dir publish
# cd ..

git clone --depth 1 https://github.com/ornicar/maxmind-geoip2-scala --branch customBuild
cd maxmind-geoip2-scala
sbt -DpublishTo=$repo_dir publish
cd ..

exit;

git clone https://github.com/ornicar/scala-kit --branch lichess-fork
cd scala-kit
git checkout b019b3a2522d3f1697c39ec0c79e88c18ea49a91
sbt -Dversion=1.2.11-THIB publish-local
cd ..
cp -rv ~/.ivy2/local/io.prismic "$repo_dir/"

rm -rf "$build_dir"
